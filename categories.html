<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manage Categories</title>
<style>
body{margin:0;font-family:'Segoe UI',sans-serif;background:#0d0d0d;color:#e0e0e0;}
header{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:#111;border-bottom:1px solid #333;}
header h1{margin:0;font-size:1.3rem;}
header button{padding:8px 12px;background:#5555ff;color:#fff;border:none;cursor:pointer;border-radius:4px;}
header button:hover{background:#7777ff;}
.content{padding:20px;}
.list{margin-top:20px;}
.item{padding:8px 12px;border:1px solid #444;margin-bottom:6px;border-radius:6px;display:flex;justify-content:space-between;align-items:center;}
button{padding:6px 10px;border:none;background:#5465ff;color:#fff;cursor:pointer;border-radius:6px;}
button:hover{background:#6e84ff;}
input[type="text"]{padding:8px;width:60%;background:#2c2c2c;color:#e0e0e0;border:1px solid #444;border-radius:4px;}
/* overlay */
.overlay {
  position: fixed;
  top:0;
  right:0;
  bottom:0;
  width:50%;
  background: rgba(0,0,0,0.95);
  color:#e0e0e0;
  display:none;
  flex-direction:row;
  box-sizing:border-box;
}
.overlay .panel {
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  font-size:1.2rem;
  padding:20px;
}
.overlay .panel:hover {background:rgba(255,255,255,0.05);}
.overlay .close {
  position:absolute;
  top:10px;
  right:10px;
  cursor:pointer;
  font-size:1.5rem;
}
@media(max-width:600px){
  header h1{font-size:1.2rem;}
  .overlay {width:100%;flex-direction:column;}
}
</style>
</head>
<body>
<header>
  <h1>Category Settings</h1>
  <button id="menuBtn">â˜°</button>
</header>
<div class="content">
  <div>
    <input type="text" id="newCatInput" placeholder="New category name" />
    <button id="addCatBtn">Add Category</button>
  </div>
  <div class="list" id="catList"></div>
</div>
<div id="overlay" class="overlay">
  <span class="close" id="closeOverlay">&times;</span>
  <div class="panel" id="panelAI">AI Assistant</div>
  <div class="panel" id="panelBookmarks">Bookmarks</div>
</div>
<script>
function loadCategories(){return JSON.parse(localStorage.getItem('categories')||'[]');}
function saveCategories(arr){localStorage.setItem('categories',JSON.stringify(arr));}
function renderCategories(){
  const container=document.getElementById('catList');
  container.innerHTML='';
  loadCategories().forEach((c,i)=>{
    const div=document.createElement('div');
    div.className='item';
    div.innerHTML=`<span>${c}</span><button data-index="${i}">Delete</button>`;
    container.appendChild(div);
  });
  Array.from(container.getElementsByTagName('button')).forEach(btn=>{
    btn.onclick=()=>{
      const idx=btn.getAttribute('data-index');
      const cats=loadCategories();
      cats.splice(idx,1);
      saveCategories(cats);
      renderCategories();
    };
  });
}
document.getElementById('addCatBtn').onclick=()=>{
  const val=document.getElementById('newCatInput').value.trim();
  if(!val) return;
  const cats=loadCategories();
  if(!cats.includes(val)){
    cats.push(val);
    saveCategories(cats);
    renderCategories();
    document.getElementById('newCatInput').value='';
  }
};
renderCategories();

// overlay handling
const menuBtn3 = document.getElementById('menuBtn');
const overlay3 = document.getElementById('overlay');
const closeOverlay3 = document.getElementById('closeOverlay');
const panelAI3 = document.getElementById('panelAI');
const panelBookmarks3 = document.getElementById('panelBookmarks');
if(menuBtn3){ menuBtn3.onclick = () => { overlay3.style.display='flex'; } }
if(closeOverlay3){ closeOverlay3.onclick = () => { overlay3.style.display='none'; } }
if(panelAI3){ panelAI3.onclick = () => { window.location.href='ai.html'; } }
if(panelBookmarks3){ panelBookmarks3.onclick = () => { window.location.href='bookmarks.html'; } }
overlay3 && (overlay3.onclick = e=>{ if(e.target===overlay3) overlay3.style.display='none'; });
</script>
</body>
</html>